/*
//                                                                                                                                    `.        
//                                                                                                                              .".. :< ^'.     
//                                                                                                                              ').. |!i1..     
//                                                                                                                              'n` !z!Z< .     
//                                                                                                                            . ^v.`CUZW|       
//                                                                                                                            . i).j#kWk!       
//                                                                                                                            . ->|0moaX" .     
//                                                                                                                             !/cLQ0poo] .     
//                                                                                                                        . . ;vJuuCzhMZ"       
//                                                                                                                           >vxrXjQZbq~        
//                                                                                                                       . ']xftjj/vxwZ!        
//                                                                                                                        ,(r(/(xxfun*h~        
//                                                                                                                   .   >tjt/f)/?\mpk|.        
//                                                                                                                   . ^}j\)11f{cfr(C/...       
//                                                                                                              .    .i///|j))?}t{X/Qt^..       
//                                                                                                                  "}fft\1)]j\f))jdhr..        
//                                                                                                              . ._nn/(t|//|\--rzOff"  .       
//                                                                                                         ...   I\cvrf({{\-+1xnt<U<. .         
//                                                                                                             ^}vzcx//f}?|\/)it{]|!^..         
//                                                                                                           .~rXcczj{{({|1_\~?fXmbx^. .        
//. ._|j:                                                                                             ....  ;\Xzcvvn)?{{]1>?[]fwY\z: . .        
//..|MW@L;?}                                                                                          .   "}cYcvcvn/{(}?[?]/Yfic)^'             
// :QB&&@o8&-;  .                                                                                 .     "]vYXcunnx\[-}{(rr?If-!?!'..            
// +w@&&8W&%&&f.                                                                                 .    ^{XUzccnxuu/(){(}>~>:]t}xmnl'.            
// ?m$%MbaBMW$$x^                                                                                .  "}cCXvvcunrj/\)~_<!+f\?cp{xY!...            
// ~LMmd#%&aW@%Wox' .                                                                          .  ^]vCYcvvvvrxvj/}_]rx{_xt;{j,,'  ..            
// Ifbo&*#*dkWoo@$Ol                                                                         .  `_uJUzcvunrrj\\\\)-~_1!:](;]/!'  . .            
// "[UbkQwhOOhkpdW#U1I                                                                    ..  '<nUYXzcvunvuuvn\__\)+~jt~|C]uZ/"                 
//.'<(uYjUb0CbpLZaQJW#(.  .                                                             .   '>rUYzccvvvczYzvXUu/xzzuxc0\XJi({`.                 
//  I<-(1\OCUpdULa0LOM&n;.  .                                                              !tUUzcXvvczXYUYUXvnxxcYxuUrvnUC|"                    
//. '!!~-~/rtOqYChOXUapcYY/"  .                                                         '>tJJXccXvczXYUCUYXu\\xn|fr\|fY1][:. ..                 
//   ^li]\u/cwmXUbOuUaQXJpBC;.                                                         '1CCzccvcccXXcXXncJj{f\(f\\z(vY/Y)                       
//    ^_xtnfQpQdabJvLbUuuq*Zx-.                                                       :fLYccvvnvzzUJXUYYCYf)r)?1|)|rx[j\i.                      
//    .,<}[{}/jLaqdhkqujYo0vxcX(' ..                                                 ;jQXczvcvnvzzYYXXzzxf/\|1\nftj|/<'  .                      
//    ..^;!+~?-{xc0hZqbZdOujjY##/"                                                 .~zUcvcccvvvuzzzXXcuf1(nrfvftjfxYvI .                        
//    .  .^")Y\zvtrcJmbQqmvfCp0cx(~'                                           . .:(YXccccvvnucczzUXvXXf)f(\ftYc/t)<"...                        
//    .....`<}tOnfQOJYXCpqLqwut\|nJYjl ..                                     ..`-vYccXXzvuuuuvvzcUcuXjtxX/xx{)/v/'                             
//     ..  .^;-r)?/J\zqmJJZdZJzU0ZwO0c>                                   ... .!tYcvzXXzcvuuunuunXznYYxur1fC(tj-!` ..                           
//         ..';>1+<)?\jzLCOCJJQQcxr/trn{:.                                  .,}cXczYXcXzvvuuuuuvXUvUzuxuxju(jY+   ...                           
//         .  .'"l<1+)||fnxCzXUzXUYYYCQ0Oul    ...                         `<jYzcXYXcczcvvuuuunvXvUQXcf/xvzxt<'..                               
//         ....  .`:<~-1tzJOYXxcYYLcYUJCCQY{<,.                           ;(zXzzXYXzvvcuvvnnnuXYzJJUCcffj)rz]   .                               
//          ......  .'"<\ncutnJCXQCLZLZYJJLwOQr_I`    .                 `_xXzzYXXzzzcvccvvvuncYUUCCJctcutr\["...                                
//                      '`:>_{/u\cjXnnXzUQYCJQOOwLf_:.               . ;\cXzXzzcczccczzccvvcvvvLJCJcvrurvr"                                     
//                   ...     ',<1\rrjvvXzccYvUcYCzQpwv}>^            .<nzcczXzcvcvvczXYzXcvcXYJJYCzcUJxYx> .                                    
//                              '"![/rYccXUCZJmmQCCXzULd0j?,  ..':i!;{uvvcXzunuvcvvcXXXYXXXXCXcXcvYUrU0x" ..                                    
//                            ..   ."![fncLQCwmQOmQYUYznnucti?I,}uc\uXxxvcucvuuunuvvczYUJJYCQLYvvnYjvQn<                                        
//                                    ."<{fxYnn/]?+i<+_??(/t)/\fCwwJzvczzcnvvczcvcXXXUJCQQCZZUJCJQJz(?:                                         
//                                 ...   .,!~~+_~+-})/cQwbhbmQCJmwZJXzcczuxnnuvYzvzcUQZZ00QZmJzXQQJ}.                                           
//                                       :i]jcJQQQOmmpkbdZpbhaZ0w0Q0UOYQXYYzcYXXQJmXXJnXCXUUY|>{[I'.                                            
//                                 ... >/OwwWM8B8#abqppwOZwpboZ0CCL0LCzJUUYuYXLJJzXvzLYncccvUv?!,^'                                 ...         
//                                 .  (dbo#okbkabZJYYCLQQ0QQdOYJCQQQJJJXUccJzvvczLcCcccnuXXvzcXvnrjf/{~I"'.                            .''^"^.  
//                                 .  _-_[/zQZwppZQUYYYYYYJ0ZJJJUUYYL0zcvuvvXJYJccvcvuuuuucYYccvvvcULLCYcxf\){[?+<>i!lI;;;;;;;;Il!!ii<+>l!l;,^'.
//                                         .,+\vJ0ZO0CUUYCQQUXCJCCCJJLQC0LXXccYJYXLJzUZUzCUXXXXucccXUJCLQQCJJYXzuuunxxxrrrrrjjjfft/|((({?+++~!^.
//                                        .    ."i](rzC000LQQUUJC0QOCCQCOQ0pJYQwQUCCLJYYXYYYYzzzczzXULLQQLLCCUYYJJJUUJYzcvnxrjf/\())1]??__+<l^..
//                                                   `;+)rYCOZmqpZ0LQLJC0QQZCLQOm0LLQLCYXYUUYYYYYYXUCQQCYUzULQ0ZZOQJCCJJL0QLLLCJJUYYcf)?<;'.... 
//                                                ..      .^;i_}|jvcUCQ0ZOZwmm0QQQLQQ0O0QOZLCwmQLLCCLcvunrjff/\nCJQCYcnx/)))\fjfrxnf){[]_!'     
//                                                                .'^,I!~_]}{(vQZZmwqpbbp0QZhopwmZqmvfx\fttjrjt|{{|nnYLXrtt(+lli<<<<i`          
//                                                                            ,-1[}{|jQ#W*#WoYnL*pqwOQqC|))[+])tjj/-I~[|tf{<<~:                 
//                                                                                    `+Uaaaa#W&&#abbdkb(+~>'..`";lI.  .'"I`                    
//                                                                                  .    !-](xx/|)1}[i+?^                                       

*/


/**
* @file     	main.h
* @brief			GYRFALCON SYSTEM SOURCE CODE 
* @details	  GYRFALCON SYSTEM IS ASSOCIATED WITH ARTIAVES SOFTWARE
							ARTIAVES SOFTWARE IS CLOSED SOURCE SOTWARE CONTACT AUTHOR TO BE AUTHORIZED
* @author			Tianyi Gu  guty22@mails.jlu.edu.cn
*												 theiiku@foxmail.com
* @date		    2023 / Nov / 30th 
* @version	  v1.0
* @par Copyright(c): 2023	Tianyi Gu all right reserved	
* @par History:     2023 / Nov / 30th   v1.0     
*	version: author, date, desc\n
*
*/


// sd_temp_get(&temp);


#include <stdint.h>
#include <string.h>
#include "nordic_common.h"
#include "nrf.h"
#include "app_error.h"



#include "nrf_log.h"
#include "nrf_log_ctrl.h"
#include "nrf_log_default_backends.h"


#include "ChipTemp.h"
#include "oled.h "
#include "nrf_temp.h"

#include "app_timer.h"
#include "board.h"
#include "nrf_pwr_mgmt.h"
#include "UARTCMD.h"

#include "protocol.h"

#include "GUI.h"
#include "LED.h" 




struct BoardMeasurement MEASUREMENT ;


static void log_init(void)
{  
	ret_code_t err_code = NRF_LOG_INIT(NULL);	
    APP_ERROR_CHECK(err_code);
	
    NRF_LOG_DEFAULT_BACKENDS_INIT();	
}

static void idle_state_handle(void)
{  
	if (NRF_LOG_PROCESS() == false)	
    {
		//nrf_pwr_mgmt_run();
    }
}





int main (){
  ret_code_t err_code;
  err_code = nrf_pwr_mgmt_init();
	
  APP_ERROR_CHECK(err_code);
	
	log_init();
	BoardInit();
	//BoardSelfCheck();
	
	while (1)
	{ //printf("hell\r\n");
		idle_state_handle(); 
	}
	
}


